<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Testlink &#8211; wi's Tech Blog</title>
<meta name="description" content="notes, articles, or reproduced">
<meta name="keywords" content="cm, testlink">



<!-- Open Graph -->
<meta property="og:locale" content="zh_CN">
<meta property="og:type" content="article">
<meta property="og:title" content="Testlink">
<meta property="og:description" content="notes, articles, or reproduced">
<meta property="og:url" content="/cm/testlink/testlink-help/">
<meta property="og:site_name" content="wi's Tech Blog">
<meta property="og:image" content="/images/images/avatar.png">





<link rel="canonical" href="/cm/testlink/testlink-help/">
<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="wi's Tech Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no"/>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="stylesheet" href="/assets/css/jquery.mmenu.all.css">
<link rel="stylesheet" href="/assets/css/jquery.floating-social-share.min.css">
<!-- Webfonts -->

<meta http-equiv="cleartype" content="on">

<script type="text/javascript">window.jQuery || document.write('<script type="text/javascript" src="/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script type="text/javascript" src="/assets/js/scripts.min.js"></script>

<!-- table of content -->
<script type="text/javascript" src="/assets/js/vendor/toc.js"></script>


<!-- Load Modernizr -->
<script type="text/javascript" src="/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>


<!-- Mathjax Support -->
<script type="text/javascript" async
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>



<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">




</head>

<body>

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->



<div class="header-menu header-menu-top">
    <ul class="header-item-container">
      <li class="header-item-title header-toggle "><a href="#menu"><i class="fa fa-bars"></i></a></li>
      <li class="header-item-title">
        <a href="/">
          
            <img class="logo" src="/images/avatar.png" alt="wi's Tech Blog">
          
          <a href="/" class="title"> wi's Tech Blog</a>
        </a>
      </li>
      
        
        


        
            
                <li class="header-item "><a href="/favorites">fav</a></li>
            
        
      
        
        


        
            
                <li class="header-item "><a href="/categories">Categories</a></li>
            
        
      
        
        


        
            
                <li class="header-item "><a href="/tags">Tags</a></li>
            
        
      
        
        


        
            
                <li class="header-item "><a href="/">Home</a></li>
            
        
      
      <li class="header-item"><a href="/search"><i class="fa fa-search"></i></a></li>
    </ul>
  </div>



<nav id="menu" style="display: none">
  <ul>
    
      
        <li><a href="/"><h3>Home</h3></a></li>
      
    
      
        <li><a href="/tags"><h3>Tags</h3></a></li>
      
    
      
        <li><a href="/categories"><h3>Categories</h3></a>
          <ul>
            
              
                <li><a href="/categories/#UML">UML</a></li>
            
              
                <li><a href="/categories/#Windows">Windows</a></li>
            
              
                <li><a href="/categories/#adb">adb</a></li>
            
              
                <li><a href="/categories/#adt">adt</a></li>
            
              
                <li><a href="/categories/#android">android</a></li>
            
              
                <li><a href="/categories/#apache">apache</a></li>
            
              
                <li><a href="/categories/#apple">apple</a></li>
            
              
                <li><a href="/categories/#bat">bat</a></li>
            
              
                <li><a href="/categories/#blog">blog</a></li>
            
              
                <li><a href="/categories/#blog_sample">blog_sample</a></li>
            
              
                <li><a href="/categories/#browser">browser</a></li>
            
              
                <li><a href="/categories/#burpsuite">burpsuite</a></li>
            
              
                <li><a href="/categories/#centos">centos</a></li>
            
              
                <li><a href="/categories/#chrome">chrome</a></li>
            
              
                <li><a href="/categories/#cm">cm</a></li>
            
              
                <li><a href="/categories/#common">common</a></li>
            
              
                <li><a href="/categories/#css">css</a></li>
            
              
                <li><a href="/categories/#cygwin">cygwin</a></li>
            
              
                <li><a href="/categories/#database">database</a></li>
            
              
                <li><a href="/categories/#db">db</a></li>
            
              
                <li><a href="/categories/#dev">dev</a></li>
            
              
                <li><a href="/categories/#device">device</a></li>
            
              
                <li><a href="/categories/#diff">diff</a></li>
            
              
                <li><a href="/categories/#disk">disk</a></li>
            
              
                <li><a href="/categories/#diy">diy</a></li>
            
              
                <li><a href="/categories/#dns">dns</a></li>
            
              
                <li><a href="/categories/#doc">doc</a></li>
            
              
                <li><a href="/categories/#docker">docker</a></li>
            
              
                <li><a href="/categories/#efi">efi</a></li>
            
              
                <li><a href="/categories/#emacs">emacs</a></li>
            
              
                <li><a href="/categories/#email">email</a></li>
            
              
                <li><a href="/categories/#emulator">emulator</a></li>
            
              
                <li><a href="/categories/#english">english</a></li>
            
              
                <li><a href="/categories/#esxi">esxi</a></li>
            
              
                <li><a href="/categories/#excel">excel</a></li>
            
              
                <li><a href="/categories/#exsi">exsi</a></li>
            
              
                <li><a href="/categories/#favorites">favorites</a></li>
            
              
                <li><a href="/categories/#ftp">ftp</a></li>
            
              
                <li><a href="/categories/#game">game</a></li>
            
              
                <li><a href="/categories/#git">git</a></li>
            
              
                <li><a href="/categories/#gitlab">gitlab</a></li>
            
              
                <li><a href="/categories/#go">go</a></li>
            
              
                <li><a href="/categories/#golang">golang</a></li>
            
              
                <li><a href="/categories/#hardware">hardware</a></li>
            
              
                <li><a href="/categories/#ide">ide</a></li>
            
              
                <li><a href="/categories/#internet">internet</a></li>
            
              
                <li><a href="/categories/#java">java</a></li>
            
              
                <li><a href="/categories/#javascript">javascript</a></li>
            
              
                <li><a href="/categories/#jekyll">jekyll</a></li>
            
              
                <li><a href="/categories/#jenkins">jenkins</a></li>
            
              
                <li><a href="/categories/#jmeter">jmeter</a></li>
            
              
                <li><a href="/categories/#kate">kate</a></li>
            
              
                <li><a href="/categories/#kde">kde</a></li>
            
              
                <li><a href="/categories/#ldap">ldap</a></li>
            
              
                <li><a href="/categories/#learn">learn</a></li>
            
              
                <li><a href="/categories/#learning">learning</a></li>
            
              
                <li><a href="/categories/#links">links</a></li>
            
              
                <li><a href="/categories/#linux">linux</a></li>
            
              
                <li><a href="/categories/#living">living</a></li>
            
              
                <li><a href="/categories/#mac">mac</a></li>
            
              
                <li><a href="/categories/#mac-os">mac-os</a></li>
            
              
                <li><a href="/categories/#macos">macos</a></li>
            
              
                <li><a href="/categories/#mail">mail</a></li>
            
              
                <li><a href="/categories/#manjaro">manjaro</a></li>
            
              
                <li><a href="/categories/#markdown">markdown</a></li>
            
              
                <li><a href="/categories/#maven">maven</a></li>
            
              
                <li><a href="/categories/#memcached">memcached</a></li>
            
              
                <li><a href="/categories/#microsoft">microsoft</a></li>
            
              
                <li><a href="/categories/#moco">moco</a></li>
            
              
                <li><a href="/categories/#mysql">mysql</a></li>
            
              
                <li><a href="/categories/#nas">nas</a></li>
            
              
                <li><a href="/categories/#ndk">ndk</a></li>
            
              
                <li><a href="/categories/#netbean">netbean</a></li>
            
              
                <li><a href="/categories/#network">network</a></li>
            
              
                <li><a href="/categories/#netwrok">netwrok</a></li>
            
              
                <li><a href="/categories/#nginx">nginx</a></li>
            
              
                <li><a href="/categories/#nodejs">nodejs</a></li>
            
              
                <li><a href="/categories/#notepad++">notepad++</a></li>
            
              
                <li><a href="/categories/#office">office</a></li>
            
              
                <li><a href="/categories/#open-course">open-course</a></li>
            
              
                <li><a href="/categories/#openkm">openkm</a></li>
            
              
                <li><a href="/categories/#openwrt">openwrt</a></li>
            
              
                <li><a href="/categories/#outlook">outlook</a></li>
            
              
                <li><a href="/categories/#pdf">pdf</a></li>
            
              
                <li><a href="/categories/#perl">perl</a></li>
            
              
                <li><a href="/categories/#phone">phone</a></li>
            
              
                <li><a href="/categories/#php">php</a></li>
            
              
                <li><a href="/categories/#postgresql">postgresql</a></li>
            
              
                <li><a href="/categories/#product">product</a></li>
            
              
                <li><a href="/categories/#python">python</a></li>
            
              
                <li><a href="/categories/#rails">rails</a></li>
            
              
                <li><a href="/categories/#redmine">redmine</a></li>
            
              
                <li><a href="/categories/#regex">regex</a></li>
            
              
                <li><a href="/categories/#router">router</a></li>
            
              
                <li><a href="/categories/#ruby">ruby</a></li>
            
              
                <li><a href="/categories/#search-engine">search-engine</a></li>
            
              
                <li><a href="/categories/#security">security</a></li>
            
              
                <li><a href="/categories/#sed">sed</a></li>
            
              
                <li><a href="/categories/#ssh">ssh</a></li>
            
              
                <li><a href="/categories/#streaming">streaming</a></li>
            
              
                <li><a href="/categories/#study">study</a></li>
            
              
                <li><a href="/categories/#subversion">subversion</a></li>
            
              
                <li><a href="/categories/#tcpdump">tcpdump</a></li>
            
              
                <li><a href="/categories/#tech">tech</a></li>
            
              
                <li><a href="/categories/#testing">testing</a></li>
            
              
                <li><a href="/categories/#testlink">testlink</a></li>
            
              
                <li><a href="/categories/#text">text</a></li>
            
              
                <li><a href="/categories/#tomcat">tomcat</a></li>
            
              
                <li><a href="/categories/#ubuntu">ubuntu</a></li>
            
              
                <li><a href="/categories/#ufw">ufw</a></li>
            
              
                <li><a href="/categories/#vbs">vbs</a></li>
            
              
                <li><a href="/categories/#vim">vim</a></li>
            
              
                <li><a href="/categories/#virtual-box">virtual-box</a></li>
            
              
                <li><a href="/categories/#virtualbox">virtualbox</a></li>
            
              
                <li><a href="/categories/#virtualization">virtualization</a></li>
            
              
                <li><a href="/categories/#vm">vm</a></li>
            
              
                <li><a href="/categories/#vpn">vpn</a></li>
            
              
                <li><a href="/categories/#web">web</a></li>
            
              
                <li><a href="/categories/#windows">windows</a></li>
            
              
                <li><a href="/categories/#xampp">xampp</a></li>
            
              
                <li><a href="/categories/#收藏夹">收藏夹</a></li>
            
              
                <li><a href="/categories/#测试工具">测试工具</a></li>
            
              
                <li><a href="/categories/#玩机">玩机</a></li>
            
          </ul>
        </li>
      
    
      
        <li><a href="/favorites"><h3>fav</h3></a></li>
      
    
  </ul>
</nav>




<div id="post" >
<div id="main" role="main" >
  <article class="hentry">
    <div class="entry-content">
        
      <h1 class="post-title entry-title">Testlink</h1>
      
        <h3><span class="entry-date date published updated"><time datetime="2015-01-19T00:00:00+08:00">January 19, 2015</time></span></h3>
      
      
      
      
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 60);
  return false
})

$(".toc-button").on('click', function(){
  $(".toc").toggle();
});


$(window).click(function(evt){
  if( !evt.target.matches('.toc') 
      && !evt.target.matches('.toc>ul') 
      && !evt.target.matches('.toc-button') ) {
    $('.toc').each(function(){
      if( $(this).is(":visible") ) {
        $(this).hide();
      }
    });
  }
});

});
</script>

<div class="float-toc">
    <i class="toc-button fa fa-list-ol" aria-hidden="true"></i>
  <div id="toc"></div>
</div>

      
      
      <h2 id="简介">简介</h2>

<p>TestLink 是一套测试管理系统。<br />
由Teamst ( <a href="http://www.teamst.org/">http://www.teamst.org/</a> )开发和维护。</p>

<h3 id="testlink中的测试概念">TestLink中的测试概念</h3>

<h4 id="test-plan">Test Plan</h4>

<p>一次测试活动，隶属于Test Project。<br />
创建及分配测试任务，记录测试结果。</p>

<p>可能的属性：</p>
<ul>
  <li>Summary/Scope</li>
  <li>Features to be tested</li>
  <li>Features to not be tested</li>
  <li>Test criteria (to pass tested product)</li>
  <li>Test environment, Infrastructure</li>
  <li>Test tools</li>
  <li>Risks</li>
  <li>References (Product plan or Change request, Quality document(s), etc.)</li>
</ul>

<h4 id="test-case">Test Case</h4>

<p>测试用例，最基本的测试任务。<br />
可以分类到各自的Test Suite中。</p>

<ul>
  <li>Identifier of a Test Case is assigned automatically by TestLink, and can not be changed by users. This ID composes from Test Project prefix and a counter related to the Test Project in which the Test Case is created.</li>
  <li>Title: could include either short description or abbreviation (e.g. TL-USER-LOGIN)</li>
  <li>Summary: should be really short; just for overview, introduction and references.</li>
  <li>Steps: describe test scenario (input actions); can also include precondition and clean-up information here.</li>
  <li>Expected results: describe checkpoints and expected behaviour of a tested product or system.</li>
  <li>Attachments: could be added if configuration allows it.</li>
  <li>Importance: Test designer could set importance of the test [HIGH, MEDIUM and LOW].</li>
  <li>Execution type: Test designer could set automation support of the test [MANUAL/AUTOMATED]</li>
  <li>Custom fields: Administrator could define own parameters to enhance Test Case description or categorization. Large custom fields (more than 250 characters) are not possible. But information could be added into parent Test Suite and referred via custom fields. For example you can describe Configuration ‘standard’, ‘performance’, ‘standard_2’ and refer via CF to this labels.</li>
</ul>

<h4 id="test-project">Test Project</h4>

<p>对应公司的产品和项目。<br />
Test Project之间相互独立，不共享数据。</p>

<h4 id="test-specification">Test Specification</h4>

<p>每个Test Project仅有一个Test Specification，有Test Suite和Test Case组成。</p>

<h3 id="testlink系统中的角色">TestLink系统中的角色</h3>

<p>The default types are: Guest, Test Designer, Senior tester, Tester, Leader and Administrator but custom roles can also be created.</p>

<p><img src="/images/cm/testlink/testlink_roles.png" alt="" /></p>

<h2 id="使用指南">使用指南</h2>

<h3 id="test-project-1">Test Project</h3>

<ul>
  <li>Active属性
    <ul>
      <li>取消勾选Active，该项目在系统中被关闭，不能继续使用。</li>
    </ul>
  </li>
</ul>

<h3 id="test-specification-1">Test Specification</h3>

<p>A Test Project has just one Test Specification.<br />
TestLink breaks down the Test Specification structure into Test Suites and Test Cases.</p>

<ul>
  <li>技巧：</li>
</ul>

<p>建议不要删除Test Case和Test Suite。如果有些功能在新版本中被取消，建一个Test Suite “已取消的”或者“版本0.1”，将不用的用例移到这个Test Suite中。</p>

<h3 id="requirements-specification">Requirements Specification</h3>

<p>一个Test Project可以有很多Requirements Specification（文档），其中包含树形的结构的Requirements。<br />
注意：虽然支持多层树形结构，但是导出文档时，可能只有2层。</p>

<h4 id="创建requirements-specification">创建Requirements Specification</h4>

<p>文档ID（或，文档标识，Document ID）在Test Project中必须唯一。</p>

<h4 id="创建requirement">创建Requirement</h4>

<p>文档ID（或，文档标识，Document ID）在Test Project中必须唯一。</p>

<h3 id="使用技巧">使用技巧</h3>

<h4 id="批量导入测试结果">批量导入测试结果</h4>

<ul>
  <li>参考：
    <ul>
      <li>安装目录/docs/tl-file-formats.pdf “Import / export file formats” 2.8 Results import</li>
    </ul>
  </li>
</ul>

<ol>
  <li>按照导入结果的格式编写结果XML</li>
  <li>在TestLink执行用例，选择任一一个用例，在右边的操作区中点击“import XML Report”</li>
  <li>在弹出的对话框中上传之前编写好的XML文件，上传后TestLink会显示导入的结果，如果成功会显示详情情况，哪些用例被设置成什么结果</li>
</ol>

<p>简单的例子：</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15</pre></td><td class="code"><pre><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;results&gt;</span>
         <span class="nt">&lt;testcase</span> <span class="na">external_id=</span><span class="s">"new-11"</span> <span class="nt">&gt;</span>
                   <span class="nt">&lt;result&gt;</span>f<span class="nt">&lt;/result&gt;</span>
                   <span class="nt">&lt;notes&gt;</span>functionality works great.. <span class="nt">&lt;/notes&gt;</span>
         <span class="nt">&lt;/testcase&gt;</span>
         <span class="nt">&lt;testcase</span> <span class="na">external_id=</span><span class="s">"new-12"</span> <span class="nt">&gt;</span>
                   <span class="nt">&lt;result&gt;</span>f<span class="nt">&lt;/result&gt;</span>
                   <span class="nt">&lt;notes&gt;</span>functionality works great.. <span class="nt">&lt;/notes&gt;</span>
         <span class="nt">&lt;/testcase&gt;</span>
         <span class="nt">&lt;testcase</span> <span class="na">id=</span><span class="s">"100"</span><span class="nt">&gt;</span> <span class="c">&lt;!-- ID: internal/DB id ---&gt;</span>
                   <span class="nt">&lt;result&gt;</span>p<span class="nt">&lt;/result&gt;</span>
                   <span class="nt">&lt;notes&gt;</span>functionality works great <span class="nt">&lt;/notes&gt;</span>
         <span class="nt">&lt;/testcase&gt;</span>
<span class="nt">&lt;/results&gt;</span>
</pre></td></tr></tbody></table>
</div>
</div>

<p>其中result的值可以是：p、f、b<br />
分别对应pass, fail, block<br />
其中external_id在TestLink界面中可以看到对应用例的id，如下图</p>

<p><img src="/images/cm/testlink/testlink_case_result.png" alt="" /></p>

<h3 id="使用约定及工作流">使用约定及工作流</h3>

<h4 id="使用约定">使用约定</h4>

<p>如果用例已经被在Test Plan执行，不要删除它！ 设置为不激活状态即可。</p>

<h2 id="admin">Admin</h2>

<p>testlink的配置文件<br />
&lt;testlink-home&gt;/config.inc.php</p>

<h3 id="技巧">技巧</h3>

<h4 id="关闭游客注册">关闭游客注册</h4>

<p>在config.inc.php中设置$tlCfg-&gt;user_self_signup为FALSE,</p>

<p>$tlCfg-&gt;user_self_signup = FALSE;</p>

<h4 id="汉化">汉化</h4>

<p>字符串资源在如下目录中，修改其中文本文件就可以了。<br />
testlink-1.9.5\locale\zh_CN\strings.txt</p>

<h4 id="整合redmine到tl195">整合Redmine到TL1.9.5</h4>

<p>Redmine支持RESTful API来向第三方程序开放，TL1.9.5支持REST的方式连接Redmine。</p>

<p>一)   创建BTS配置</p>

<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>在主页面 TestProject &gt; Issue Tracker Management创建到Redmine的连接。
</pre></td></tr></tbody></table>
</div>
</div>

<p>二)   填写Redmine的连接配置</p>

<p>Issue tracker 名称，用户自己命名。</p>

<p>Type 选择 redmine (interface: rest)</p>

<p>Configuration的示例：</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6</pre></td><td class="code"><pre><span class="nt">&lt;issuetracker&gt;</span>
<span class="nt">&lt;apikey&gt;</span>2cdc47a34681dec19fd4cab20ef1f59146339372<span class="nt">&lt;/apikey&gt;</span>
<span class="nt">&lt;uribase&gt;</span>http://192.168.10.101:8082/redmine<span class="nt">&lt;/uribase&gt;</span>
<span class="c">&lt;!-- Project Identifier is NEEDED ONLY if you want to create issues from TL --&gt;</span>
<span class="nt">&lt;projectidentifier&gt;</span>newbie<span class="nt">&lt;/projectidentifier&gt;</span>
<span class="nt">&lt;/issuetracker&gt;</span>
</pre></td></tr></tbody></table>
</div>
</div>

<ul>
  <li>说明：
    <ul>
      <li>apikey是目标redmine系统的访问凭证，在redmine中设置后取得。</li>
    </ul>
  </li>
  <li>如何取得apikey：
    <ol>
      <li>设置需要redmine系统管理员身份，打开REST API支持。在Administration -&gt; Settings -&gt; Authentication 中Enable REST API 。</li>
      <li>打开后，在redmine页面右上角进入用户信息界面（redmine/my/account页面），在页面中即可找到API KEY（API访问键）。</li>
    </ol>
  </li>
</ul>

<p>参考：<br />
http://www.redmine.org/projects/redmine/wiki/Rest_api的Authentication一节。</p>

<p>三)   关联到项目</p>

<p>在项目设置中关联到已有的Redmine设置，</p>

<p>Test Project &gt; Test Project Management，然后编辑某个项目。</p>

<p>四)   为Fail的TestCase关联bug</p>

<p>在Case执行页面，Fail的测试记录行中的“Bug Management”中点击关联图标 （Link Existent Issue），关联制定ID的BUG。</p>

<ul>
  <li>注意：</li>
</ul>

<p>Redmine2.1.4的issue url格式是：http://127.0.0.1//redmine/issues/&lt;bug-id&gt;<br />
而TestLink 1.9.5中的URL格式是：http://127.0.0.1//redmine/issues/show/&lt;bug-id&gt;<br />
所以需要修改下TestLink，修改方法如下：</p>

<p>testlink-1.9.5\lib\issuetrackerintegration\redminerestInterface.class.php</p>

<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4</pre></td><td class="code"><pre>function completeCfg()
$this-&gt;cfg-&gt;uriview = $base . 'issues/show/';
修改为
$this-&gt;cfg-&gt;uriview = $base . 'issues/';
</pre></td></tr></tbody></table>
</div>
</div>

<p>五)   在TestLink中添加Redmine-bug</p>

<p>在Case执行页面，Fail的测试记录行中的“Bug Management”中点击创建图标（），自动创建BUG，创建到之前在Testlink配置的Redmine项目中，例如，&lt;projectidentifier&gt;newbie&lt;/projectidentifier&gt;。</p>

<p>该功能在testlink-1.9.5\lib\issuetrackerintegration\redminerestInterface.class.php中实现，其addIssue($summary,$description)函数向Redmine传递数据，在目标项目中创建bug。这个函数对summary和description执行了htmlentities编码，结果Redmine2.1.4没解码，报错说标题太长。。。两个开源项目同步很有问题啊。。。去掉这个htmlentities函数就好了。</p>

<p>用这个方法创建的BUG显的很奇怪，因为是内容都是TestLink自动生成的，</p>

<p>例如，</p>

<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8</pre></td><td class="code"><pre>标题为“/newbie/非功能性要求/NB-1:升级覆盖安装测试 - Executed ON (ISO FORMAT): 2013-02-18 10:56:01”,bug描述为：

Execution ID: 12 
    Tester: admin 
    Test Plan: preload_android 
    Build: preload_1.0 
    Executed ON (ISO FORMAT): 2013-02-18 10:56:01
    Execution Status: failed
</pre></td></tr></tbody></table>
</div>
</div>

<p>所以啊，还是手动创建BUG再关联吧！！要么自己把这个功能完善下，哈哈。</p>

<h4 id="设置testlink中生成文档中的公司标识">设置TestLink中生成文档中的公司标识</h4>

<p>在config.inc.php中设置：</p>

<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td><td class="code"><pre>/* [GENERATED DOCUMENTATION] */ 块中设置
$tlCfg-&gt;document_generator-&gt;company_name = 'Your Company Name’;
$tlCfg-&gt;document_generator-&gt;company_copyright = ‘2009 &amp;copy; TestLink Community’;
</pre></td></tr></tbody></table>
</div>
</div>

<h4 id="设置使用company-logo">设置使用Company logo</h4>

<p>默认的logo存放在：testlink-1.9.5\gui\themes\default\images\company_logo.png</p>

<p>可以修改原来的logo文件，也可以在config.inc.php中修改配置</p>

<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1</pre></td><td class="code"><pre>$tlCfg-&gt;company_logo = 'company_logo.png';
</pre></td></tr></tbody></table>
</div>
</div>

<h4 id="禁止filter查询后输出function和sql信息">禁止filter查询后输出function和sql信息</h4>

<p>使用过滤器搜索后，testlink1.9.5会打印出function、sql信息到页面，影响正常浏览。</p>

<p>解决办法：<br />
在testlink-1.9.5\lib\functions\testproject.class.php 中注释掉打印语句</p>

<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre>1） 2599 行 echo __METHOD__ . '::' . $method2call . '&lt;br&gt;';
2） 2710 行 echo $sql;
</pre></td></tr></tbody></table>
</div>
</div>

<h4 id="打开文件上传功能">打开文件上传功能</h4>

<p>配置third_party/fckEditor的filemanager</p>

<p>如何配置在<TL-HOME>/docs/Configuration_of_FCKEditor_and_CKFinder.pdf中有说明</TL-HOME></p>

<p>在编辑器中，插入图片的地方，上传文件和图片。</p>

<p>不要上传包含中文的文件，文件名会出现乱码。</p>

<p>文件上传后存放位置设置</p>

<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3</pre></td><td class="code"><pre>testlink-1.9.5\third_party\fckeditor\editor\filemanager\connectors\php\config.php
中设置
$Config['UserFilesPath'] = '/userfiles/' ;
</pre></td></tr></tbody></table>
</div>
</div>

<p>表示上传的文件会放在根目录下的userfiles文件夹下，也就是htdoc/userfiles下。</p>

<h4 id="关闭自动创建bug功能">关闭自动创建bug功能</h4>

<p>修改 testlink.1.9.5\lib\execute\execSetResults.php</p>

<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2</pre></td><td class="code"><pre>将$gui-&gt;tlCanCreateIssue = method_exists($its,'addIssue');
改为：$gui-&gt;tlCanCreateIssue = false;
</pre></td></tr></tbody></table>
</div>
</div>

<p>执行用例时候，就看不到创建bug的图标了。</p>

<h3 id="patch--bugfix">patch &amp; bugfix</h3>

<h4 id="195版本保存测试结果save-and-move-to-next无法移到下一个用例">1.9.5版本保存测试结果“save and move to next”无法移到下一个用例</h4>

<p>解决方法：</p>

<p>修改lib/execute/execSetResults.php中处理 save_and_next的代码</p>

<p>在执行如下语句前，需要检查 $args-&gt;testcases_to_show 是否为null</p>

<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12</pre></td><td class="code"><pre>while (!is_null($nextItem) &amp;&amp; !in_array($nextItem['tcase_id'], $args-&gt;testcases_to_show))
{
  $nextItem = $tplan_mgr-&gt;getTestCaseNextSibling($args-&gt;tplan_id,$nextItem['tcversion_id'],$args-&gt;platform_id);
}
改成
if(!is_null($args-&gt;testcases_to_show))
{
  while (!is_null($nextItem) &amp;&amp; !in_array($nextItem['tcase_id'], $args-&gt;testcases_to_show))
  {
    $nextItem = $tplan_mgr-&gt;getTestCaseNextSibling($args-&gt;tplan_id,$nextItem['tcversion_id'],$args-&gt;platform_id);
  }
}
</pre></td></tr></tbody></table>
</div>
</div>

<p>说明：<br />
该方法在execSetResults.php测试过，未全面测试。<br />
嘿嘿，也只看了这一个php文件，其他没研究。</p>

<h4 id="195版本无法查看inactive的test-plan">1.9.5版本无法查看inactive的test plan</h4>

<p>refer to：<a href="http://www.teamst.org/forum/viewtopic.php?f=11&amp;t=7168">http://www.teamst.org/forum/viewtopic.php?f=11&amp;t=7168</a></p>

<p>解决方法：</p>

<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14</pre></td><td class="code"><pre>planEdit.php

function initializeGui(&amp;$dbHandler,&amp;$argsObj,&amp;$editorCfg,&amp;$tprojectMgr)
{
        ...
   //FIX BEGIN
   //REMOVE
    //$guiObj-&gt;tplans = $argsObj-&gt;user-&gt;getAccessibleTestPlans($dbHandler,$argsObj-&gt;tproject_id,
    //                                                         null,array('output' =&gt;'mapfull'));   
   //ADD
   $guiObj-&gt;tplans = $tprojectMgr-&gt;get_all_testplans($argsObj-&gt;tproject_id);
   //FIX END
       ...
}
</pre></td></tr></tbody></table>
</div>
</div>

<div class="highlighter-rouge"><div class="highlight"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class="lineno">1
2
3
4
5
6
7
8</pre></td><td class="code"><pre>planView.php

   //FIX BEGIN
   //REMOVE
   //$gui-&gt;tplans = $args-&gt;user-&gt;getAccessibleTestPlans($db,$args-&gt;tproject_id,null,array('output' =&gt;'mapfull'));
   //ADD
   $gui-&gt;tplans = $tproject_mgr-&gt;get_all_testplans($args-&gt;tproject_id);
   //FIX END
</pre></td></tr></tbody></table>
</div>
</div>

<h2 id="参考">参考</h2>

<p><a href="http://en.wikipedia.org/wiki/TestLink">http://en.wikipedia.org/wiki/TestLink</a></p>


      <footer class="entry-meta">
        <span class="entry-tags"><a href="/tags#cm" title="Pages tagged cm" class="tag"><span class="term">cm</span></a><a href="/tags#testlink" title="Pages tagged testlink" class="tag"><span class="term">testlink</span></a></span>
        
        
      </footer>
    </div><!-- /.entry-content -->
    
    
    
  </article>
</div><!-- /#main -->
</div><!-- post container -->














<script type="text/javascript">
  // embeded-iframe
  $(window).load(function(){
    $('.embeded-iframe').each(function(){
      $(this).height($(this).contents().find('html').height());
    });
  });
</script>





<div class="back-to-top">
    <a href="#top" data-scroll>
        <i class="fa fa-arrow-up" aria-hidden="true"></i>
    </a>
</div>

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2023 wi. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll</a> using the <a href="http://github.com/aron-bordin/neo-hpstr-jekyll-theme" rel="nofollow">Neo-HPSTR Theme</a>.</span>

<script src="/assets/js/main.js?20230725301728281823445"></script>

  </footer>
</div><!-- /.footer-wrapper -->

</body>
</html>
